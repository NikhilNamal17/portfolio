<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f9097e17a74d6fe493dd.css">*,:after,:before{box-sizing:border-box}:after,:before{text-decoration:inherit;vertical-align:inherit}html{cursor:default;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-break:break-word}body{margin:0}h1{font-size:2em;margin:.67em 0}dl dl,dl ol,dl ul,ol dl,ol ol,ol ul,ul dl,ul ol,ul ul{margin:0}hr{height:0;overflow:visible}main{display:block}nav ol,nav ul{list-style:none;padding:0}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}audio,canvas,iframe,img,svg,video{vertical-align:middle}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}iframe,img{border-style:none}svg:not([fill]){fill:currentColor}svg:not(:root){overflow:hidden}table{border-collapse:collapse}button,input,select{margin:0}button{overflow:visible;text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}fieldset{border:1px solid #a0a0a0;padding:.35em .75em .625em}input{overflow:visible}legend{color:inherit;display:table;max-width:100%;white-space:normal}progress{display:inline-block;vertical-align:baseline}select{text-transform:none}textarea{margin:0;overflow:auto;resize:vertical}[type=checkbox],[type=radio]{padding:0}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}details,dialog{display:block}dialog{background-color:#fff;border:solid;color:#000;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;left:0;margin:auto;padding:1em;position:absolute;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}dialog:not([open]){display:none}summary{display:list-item}canvas{display:inline-block}template{display:none}[tabindex],a,area,button,input,label,select,summary,textarea{touch-action:manipulation}[hidden]{display:none}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true],[disabled]{cursor:not-allowed}[aria-hidden=false][hidden]{display:initial}[aria-hidden=false][hidden]:not(:focus){clip:rect(0,0,0,0);position:absolute}html{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}code,kbd,pre,samp{font-family:Menlo,Consolas,Roboto Mono,"Ubuntu Monospace",Noto Mono,Oxygen Mono,Liberation Mono,monospace,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}</style><meta name="generator" content="Gatsby 2.19.12"/><link rel="alternate" type="application/rss+xml" title="Nikhil Namal • nikhilnamal.netlify.com" href="/rss.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#f9f9f8"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><title data-react-helmet="true">Functional-First Accordions • Nikhil Namal</title><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"/><link data-react-helmet="true" rel="mask-icon" href="/safari-pinned-tab.svg" color="#f2930d"/><meta data-react-helmet="true" name="theme-color" content="#f9f9f8"/><meta data-react-helmet="true" name="apple-mobile-web-app-title" content="nikhil_namal"/><meta data-react-helmet="true" name="application-name" content="nikhil_namal"/><meta data-react-helmet="true" name="msapplication-TileColor" content="#f2930d"/><meta data-react-helmet="true" name="description" content="Did you know that HTML basically has a built-in, fully functional accordion component? Well now you do."/><meta data-react-helmet="true" name="twitter:site" content="@lowmess"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:site_name" content="Nikhil Namal"/><meta data-react-helmet="true" property="og:title" name="twitter:title" content="Functional-First Accordions"/><meta data-react-helmet="true" property="og:url" content="https://nikhilnamal.netlify.com/blog/functional-first-accordions/"/><meta data-react-helmet="true" property="og:description" name="twitter:description" content="Did you know that HTML basically has a built-in, fully functional accordion component? Well now you do."/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-7f057ab76526c2332872.js"/><link as="script" rel="preload" href="/styles-d7bca83241f8e3231f4d.js"/><link as="script" rel="preload" href="/app-849c33fb70df35abcf41.js"/><link as="script" rel="preload" href="/commons-652c8223faa9c70cdf83.js"/><link as="script" rel="preload" href="/component---src-pages-blog-functional-first-accordions-index-mdx-58dec18a6c36d4791634.js"/><link as="fetch" rel="preload" href="/page-data\blog\functional-first-accordions\page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><style data-emotion-css="f3bn75">html{background-color:#f2930d;line-height:1.5;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}@media (prefers-reduced-motion:reduce){html{-webkit-scroll-behavior:auto;-moz-scroll-behavior:auto;-ms-scroll-behavior:auto;scroll-behavior:auto;}}@media print{html{background:none;}}::selection{background-color:#f2930d !important;color:#443e35 !important;}@media print{nav,footer{display:none !important;}#main-content{margin-bottom:0 !important;}}</style><style data-emotion-css="1qruwav">.css-1qruwav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;border-color:transparent !important;background-image:url(/topography_900x900.png);background-repeat:repeat;background-position:top center;background-size:900px;}@media (min-resolution:192dpi){.css-1qruwav{background-image:url(/topography_1800x1800.png);}}@media (min-width:48em){.css-1qruwav{background-image:url(/topography_1200x1200.png);background-size:1200px;}}@media (min-width:48em) and (min-resolution:192dpi){.css-1qruwav{background-image:url(/topography_2400x2400.png);}}@media print{.css-1qruwav{display:block;min-height:0;border:0;background:none;}}</style><style data-emotion-css="yy6pts">.css-yy6pts{box-sizing:border-box;margin:0;min-width:0;border:0.5rem solid;background-color:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;border-color:transparent !important;background-image:url(/topography_900x900.png);background-repeat:repeat;background-position:top center;background-size:900px;}@media screen and (min-width:48em){.css-yy6pts{border:1rem solid;}}@media (min-resolution:192dpi){.css-yy6pts{background-image:url(/topography_1800x1800.png);}}@media (min-width:48em){.css-yy6pts{background-image:url(/topography_1200x1200.png);background-size:1200px;}}@media (min-width:48em) and (min-resolution:192dpi){.css-yy6pts{background-image:url(/topography_2400x2400.png);}}@media print{.css-yy6pts{display:block;min-height:0;border:0;background:none;}}</style><div class="e1aekras0 css-yy6pts"><style data-emotion-css="j20by6">.css-j20by6{box-sizing:border-box;margin:0;min-width:0;-webkit-flex:1;-ms-flex:1;flex:1;max-width:100%;border-radius:0.25rem;padding-top:1rem;padding-bottom:1rem;padding-left:1rem;padding-right:1rem;color:#443e35;background-color:#ffffff;}@media screen and (min-width:48em){.css-j20by6{padding-left:2rem;padding-right:2rem;}}</style><div class="css-j20by6"><style data-emotion-css="xhsa5l">.css-xhsa5l{box-sizing:border-box;margin:0;min-width:0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:64rem;height:100%;margin-left:auto;margin-right:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-xhsa5l"><style data-emotion-css="1hzzf6s">.css-1hzzf6s{box-sizing:border-box;margin:0;min-width:0;position:relative;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:0;margin-bottom:4rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media screen and (min-width:48em){.css-1hzzf6s{margin-top:0.5rem;margin-bottom:8rem;}}@media screen and (min-width:64em){.css-1hzzf6s{margin-top:1rem;}}</style><nav class="css-1hzzf6s"><style data-emotion-css="1pjd7l6">.css-1pjd7l6{box-sizing:border-box;margin:0;min-width:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;position:absolute;top:0;right:0;bottom:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:1rem;background-color:#ffffff;font-family:Menlo,Consolas,Roboto Mono,Ubuntu Monospace,Oxygen Mono,Liberation Mono,monospace;font-size:0.875rem;opacity:0;pointer-events:none;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;}.css-1pjd7l6:hover{color:#f2930d;}@media screen and (min-width:48em){.css-1pjd7l6{font-size:1rem;}}.css-1pjd7l6:focus{pointer-events:auto;opacity:1;}</style><a href="#main-content" class="css-1pjd7l6">Skip to main content</a><style data-emotion-css="zkfaav">.css-zkfaav{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-zkfaav"><style data-emotion-css="1w1pv9a">.css-1w1pv9a{box-sizing:border-box;margin:0;min-width:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;display:none;color:#443e35;}@media screen and (min-width:48em){.css-1w1pv9a{display:inline;}}</style><a tabindex="-1" aria-hidden="true" class="css-1w1pv9a" href="/"><p style="color:white;background-color:orange;padding:5px;font-family:monospace;font-weight:600;font-size:15px"> <!-- -->&lt;nikhil.n /&gt;</p><title>Go to homepage</title></a></div><style data-emotion-css="1nh5zdk">.css-1nh5zdk{box-sizing:border-box;margin:0;min-width:0;margin:0;padding:0;list-style-type:none;font-size:0.875rem;font-family:Menlo,Consolas,Roboto Mono,Ubuntu Monospace,Oxygen Mono,Liberation Mono,monospace;}@media screen and (min-width:48em){.css-1nh5zdk{font-size:1rem;}}</style><ul class="css-1nh5zdk"><style data-emotion-css="b6te71">.css-b6te71{box-sizing:border-box;margin:0;min-width:0;display:inline-block;}.css-b6te71 + .css-b6te71{margin-left:0.5rem;}.css-b6te71 a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-b6te71 a:hover{color:#f2930d;}</style><li class="css-b6te71"><a href="/"><style data-emotion-css="1gm6kez">.css-1gm6kez{box-sizing:border-box;margin:0;min-width:0;padding-left:0.25rem;padding-right:0.25rem;padding-bottom:0.25rem;}.active .css-1gm6kez{border-bottom:0.25rem solid;border-color:#f2930d;}</style><span class="css-1gm6kez">Home</span></a></li><li class="css-b6te71"><a href="/projects/"><span class="css-1gm6kez">Projects</span></a></li><li class="css-b6te71"><a class="active" href="/blog/"><span class="css-1gm6kez">Blog</span></a></li><li class="css-b6te71"><a href="/about/"><span class="css-1gm6kez">About</span></a></li></ul></nav><style data-emotion-css="1rhqkbb">.css-1rhqkbb{box-sizing:border-box;margin:0;min-width:0;margin-bottom:4rem;}@media screen and (min-width:48em){.css-1rhqkbb{margin-bottom:8rem;}}</style><main id="main-content" class="css-1rhqkbb"><article><header><style data-emotion-css="13n36at">.css-13n36at{box-sizing:border-box;margin:0;min-width:0;font-size:2.25rem;font-family:heading;font-weight:heading;line-height:heading;font-size:1.25rem;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Oxygen,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.25;font-weight:700;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;margin-bottom:1rem;font-size:2.25rem;}@media screen and (min-width:48em){.css-13n36at{font-size:1.5rem;}}@media screen and (min-width:48em){.css-13n36at{font-size:3rem;}}</style><h1 class="css-13n36at">Functional-First Accordions</h1><style data-emotion-css="1wpvqvk">.css-1wpvqvk{box-sizing:border-box;margin:0;min-width:0;font-size:2.25rem;font-family:heading;font-weight:heading;line-height:heading;font-size:1.25rem;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Oxygen,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.25;font-weight:700;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;margin-bottom:2rem;font-size:1.5rem;font-weight:500;}@media screen and (min-width:48em){.css-1wpvqvk{font-size:1.5rem;}}@media screen and (min-width:48em){.css-1wpvqvk{font-size:2.25rem;}}</style><p class="css-1wpvqvk"><time dateTime="2018-12-30">December 30, 2018</time></p><style data-emotion-css="aatphz">.css-aatphz{box-sizing:border-box;margin:0;min-width:0;max-width:8rem;height:0.5rem;margin-top:2rem;margin-left:0;margin-right:0;margin-bottom:4rem;border:0;background-color:#f2930d;}</style><hr class="css-aatphz"/></header><style data-emotion-css="18vl5qo">.css-18vl5qo{box-sizing:border-box;margin:0;min-width:0;line-height:1.5;font-size:1rem;}.css-18vl5qo > *{margin-top:0;margin-bottom:0;}.css-18vl5qo > * + *{margin-top:1rem;}.css-18vl5qo b,.css-18vl5qo strong,.css-18vl5qo em,.css-18vl5qo small,.css-18vl5qo code{line-height:solid;}.css-18vl5qo sup,.css-18vl5qo sub{vertical-align:baseline;position:relative;top:-0.4em;}.css-18vl5qo sub{top:0.4em;}.css-18vl5qo iframe{margin-top:2rem;margin-bottom:2rem;border:1px solid;border-color:#efedea;}.css-18vl5qo details{border-left:0.5rem solid;border-color:#f2930d;border-radius:0.125rem;padding:1rem;margin-top:2rem;margin-bottom:2rem;background-color:#f9f9f8;}@media screen and (min-width:48em){.css-18vl5qo{font-size:1.25rem;}}</style><main class="css-18vl5qo"><style data-emotion-css="1m8sgog">.css-1m8sgog{box-sizing:border-box;margin:0;min-width:0;border-left:0.5rem solid;border-color:#f2930d;border-radius:0.125rem;padding:1rem;margin-top:2rem;margin-bottom:2rem;margin-left:0;margin-right:0;background-color:#f9f9f8;}.css-1m8sgog > *{margin-top:0;margin-bottom:0;}.css-1m8sgog > * + *{margin-top:1rem;}.css-1m8sgog p{max-width:30em;}.css-1m8sgog cite{display:block;}.css-1m8sgog cite::before{content:'―';margin-right:0.25rem;}.css-1m8sgog > :first-child{margin-top:0;}.css-1m8sgog > :last-child{margin-bottom:0;}</style><blockquote class="css-1m8sgog"><style data-emotion-css="b9a69l">.css-b9a69l{box-sizing:border-box;margin:0;min-width:0;max-width:33em;font-size:1rem;line-height:1.5;max-width:33em;margin-top:1rem;}@media screen and (min-width:48em){.css-b9a69l{font-size:1.25rem;}}</style><p class="css-b9a69l"><strong>Update (December 2019):</strong></p><p class="css-b9a69l">In the year since I’ve wrote this, it’s become increasingly clear that this is not a good method for building accordions. Beyond all the work it takes to make the thing functional (you know, the point of this post), <style data-emotion-css="vxtv22">.css-vxtv22{box-sizing:border-box;margin:0;min-width:0;color:inherit;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration-color:#f2930d;text-decoration-color:#f2930d;}.css-vxtv22:hover{color:#f2930d;}.css-vxtv22:hover code{color:#f2930d;}@media print{.css-vxtv22:after{content:' (' attr(href) ')';font-size:0.875em;}.css-vxtv22[href^='/']:after{content:' (https://lowmess.com' attr(href) ')';}.css-vxtv22[href^='#']{-webkit-text-decoration:none;text-decoration:none;}.css-vxtv22[href^='#']:after{content:'';}}</style><a href="https://daverupert.com/2019/12/why-details-is-not-an-accordion/" class="css-vxtv22">Dave Rupert recently wrote a short post detailing the accessibility shortcomings of this approach</a>. I share Dave’s opinion that the web, as a platform, needs to bring some of these common controls to the table to ensure a consistent, accessible experience for all of its users.</p></blockquote><p class="css-b9a69l">There are few UI components encountered as frequently as the accordion. Even if you’re unfamiliar with the term, you’re familiar with the pattern: a string of text, sometimes accompanied by a button or icon, that reveals more content underneath when clicked. Thousands of developers and hundreds of UI frameworks have created accordions, often with their own rigid markup structures and (potentially bloated) JavaScript. But did you know that a perfectly functional accordion component ships with <a href="https://caniuse.com/#feat=details" class="css-vxtv22">most modern browsers</a>? Check this out:</p><details><summary>This is my cool accordion</summary><p class="css-b9a69l">100% HTML, baby. #usetheplatform</p></details><p class="css-b9a69l">That’s all HTML! The code looks like this:</p><pre><style data-emotion-css="6urk41">.css-6urk41{box-sizing:border-box;margin:0;min-width:0;border-left:0.5rem solid;border-color:#f2930d;border-radius:0.125rem;padding:1rem;width:100%;overflow-x:scroll;margin-top:2rem;margin-bottom:2rem;background-color:#39342d;color:#f9f9f8;font-size:0.875rem;font-family:Menlo,Consolas,Roboto Mono,Ubuntu Monospace,Oxygen Mono,Liberation Mono,monospace;white-space:pre;}@media screen and (min-width:48em){.css-6urk41{font-size:1rem;}}@media print{.css-6urk41{background-color:transparent;color:#443e35;}}.css-6urk41 .token-line{overflow:visible !important;}.css-6urk41 .token:last-child{padding-right:1rem;}</style><div class="prism-code language-html css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><style data-emotion-css="ra9tsr">.css-ra9tsr{box-sizing:border-box;margin:0;min-width:0;display:none;width:1.75em;margin-right:1rem;padding-right:0.5rem;text-align:right;color:#756a5b;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}@media screen and (min-width:48em){.css-ra9tsr{display:inline-block;}}</style><span class="css-ra9tsr">1</span><span class="token tag punctuation" style="color:#a89e90">&lt;</span><span class="token tag" style="color:#f2930d">details</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  </span><span class="token tag punctuation" style="color:#a89e90">&lt;</span><span class="token tag" style="color:#f2930d">summary</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain">This is my cool accordion</span><span class="token tag punctuation" style="color:#a89e90">&lt;/</span><span class="token tag" style="color:#f2930d">summary</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain">  </span><span class="token tag punctuation" style="color:#a89e90">&lt;</span><span class="token tag" style="color:#f2930d">p</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain">100% HTML, baby. #usetheplatform</span><span class="token tag punctuation" style="color:#a89e90">&lt;/</span><span class="token tag" style="color:#f2930d">p</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain"></span><span class="token tag punctuation" style="color:#a89e90">&lt;/</span><span class="token tag" style="color:#f2930d">details</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span></div></div></pre><p class="css-b9a69l">The element that helps us achieve this marvel of modern engineering is called <a href="http://developer.mozilla.org/en-US/docs/Web/HTML/Element/details" class="css-vxtv22"><style data-emotion-css="1f2zuos">.css-1f2zuos{box-sizing:border-box;margin:0;min-width:0;border:1px solid;border-color:rgba(0,0,0,0.1);border-radius:0.125rem;padding-left:0.25rem;padding-right:0.25rem;background-color:#f9f9f8;color:#443e35;font-size:0.875rem;font-family:Menlo,Consolas,Roboto Mono,Ubuntu Monospace,Oxygen Mono,Liberation Mono,monospace;white-space:nowrap;}@media screen and (min-width:48em){.css-1f2zuos{font-size:1rem;}}</style><code class="css-1f2zuos">details</code></a> (along with <code class="css-1f2zuos">summary</code> to set custom titles). It allows us to create content that is not visible until the element is clicked on. Sounds like an accordion to me!</p><p class="css-b9a69l">Of course, there are some downsides to the <code class="css-1f2zuos">details</code> element. For starters, it isn’t exactly what I’d call attractive. There’s no way to animate content in and out, and no way to adjust the “twistie” (the triangle icon that indicates the component state). In addition, working in <em>most</em> modern browsers means that it doesn’t work in <em>all</em> modern browsers, not to mention legacy browsers. But, much like our UI framework-developing forebears, we can use some CSS &amp; JavaScript to solve those issues, with the added benefit of an accordion that works when JavaScript (and even CSS!) is disabled.</p><style data-emotion-css="17bh652">.css-17bh652{box-sizing:border-box;margin:0;min-width:0;font-size:2.25rem;font-family:heading;font-weight:heading;line-height:heading;font-size:1.25rem;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Oxygen,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.25;font-weight:700;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:2rem;padding-top:2rem;font-size:1.25rem;font-weight:600;}@media screen and (min-width:48em){.css-17bh652{font-size:1.5rem;}}.css-17bh652 .heading-link{visibility:hidden;position:absolute;right:100%;padding-left:0.5rem;padding-right:0.5rem;}.css-17bh652 .heading-link:hover{color:#f2930d;}.css-17bh652:hover .heading-link{visibility:visible;}@media screen and (min-width:48em){.css-17bh652{font-size:1.5rem;}}</style><h2 id="the-beauty-is-in-the-details" class="css-17bh652"><style data-emotion-css="1wf85w4">.css-1wf85w4{box-sizing:border-box;margin:0;min-width:0;color:inherit;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration-color:#f2930d;text-decoration-color:#f2930d;}.css-1wf85w4:hover{color:#f2930d;}</style><a href="#the-beauty-is-in-the-details" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>The Beauty Is in the Details</h2><p class="css-b9a69l">The first and easiest changes we should make just involve making the element display consistently in all browsers.</p><pre><div class="prism-code language-css css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token selector" style="color:#f67468">details</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">display</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> block</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain"></span><span class="token selector" style="color:#f67468">summary</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">display</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> list-item</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">6</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span></div></div></pre><p class="css-b9a69l">Similarly easy, though a little more opinionated, is changing the cursor to highlight that the element is interactive.</p><pre><div class="prism-code language-css css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token selector" style="color:#f67468">summary</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">cursor</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> pointer</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span></div></div></pre><p class="css-b9a69l">Now let’s get into the fun stuff. First up is changing the default twistie to be something closer to convention.</p><pre><div class="prism-code language-css css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token comment" style="color:#938776">/* Hide the default twistie */</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain"></span><span class="token comment" style="color:#938776">/* Spec-compliant: */</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain"></span><span class="token selector" style="color:#f67468">summary</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">list-style-type</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> none</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">6</span><span class="token plain"></span><span class="token comment" style="color:#938776">/* Non-standard: */</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">7</span><span class="token plain"></span><span class="token selector" style="color:#f67468">summary</span><span class="token selector pseudo-element" style="color:#f67468">::-webkit-details-marker</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">8</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">display</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> none</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">9</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">10</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">11</span><span class="token plain"></span><span class="token comment" style="color:#938776">/* Display a more common one */</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">12</span><span class="token plain"></span><span class="token selector" style="color:#f67468">summary</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">13</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">position</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> relative</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">14</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">padding-right</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">1.5</span><span class="token unit">rem</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">15</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">16</span><span class="token plain"></span><span class="token selector" style="color:#f67468">summary</span><span class="token selector pseudo-element" style="color:#f67468">::after</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">17</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">content</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token string" style="color:#0df293">&#x27;+&#x27;</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">18</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">position</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> absolute</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">19</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">top</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token function" style="color:#85b4f8">calc</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token number" style="color:#bb68f6">50</span><span class="token unit">%</span><span class="token plain"> </span><span class="token operator" style="color:#f2f99d">-</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0.5</span><span class="token unit">em</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">20</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">right</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">21</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">22</span><span class="token plain"></span><span class="token selector" style="color:#f67468">details</span><span class="token selector attribute punctuation" style="color:#a89e90">[</span><span class="token selector attribute" style="color:#f67468">open</span><span class="token selector attribute punctuation" style="color:#a89e90">]</span><span class="token selector" style="color:#f67468"> summary</span><span class="token selector pseudo-element" style="color:#f67468">::after</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">23</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">content</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token string" style="color:#0df293">&#x27;-&#x27;</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">24</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span></div></div></pre><p class="css-b9a69l"><a href="https://codepen.io/lowmess/pen/zMjagE" class="css-vxtv22">Here’s the accordion</a> as it looks at this point:</p><iframe height="300" scrolling="no" title="Details Accordion (CSS Resets Only)" src="//codepen.io/lowmess/embed/zMjagE/?height=300&amp;theme-id=22727&amp;default-tab=result" frameBorder="no" allowtransparency="true" allowfullscreen="" style="width:100%">See the Pen <a href="https://codepen.io/lowmess/pen/zMjagE/" class="css-vxtv22">Details Accordion (CSS Resets Only)</a> by Alec Lomas (<a href="https://codepen.io/lowmess" class="css-vxtv22">@lowmess</a>) on <a href="https://codepen.io" class="css-vxtv22">CodePen</a>.</iframe><p class="css-b9a69l">Not bad for a few lines of CSS! There’s a few more changes I would make before calling this anything approaching good-looking, though.</p><pre><div class="prism-code language-css css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token selector" style="color:#f67468">details</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">border-bottom</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">1</span><span class="token unit">px</span><span class="token plain"> solid </span><span class="token hexcode">#eee</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">padding</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">1</span><span class="token unit">rem</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain"></span><span class="token selector pseudo-class" style="color:#f67468">:not</span><span class="token selector punctuation" style="color:#a89e90">(</span><span class="token selector" style="color:#f67468">details</span><span class="token selector punctuation" style="color:#a89e90">)</span><span class="token selector" style="color:#f67468"> + details,</span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">6</span><span class="token selector" style="color:#f67468">details</span><span class="token selector pseudo-class" style="color:#f67468">:first-of-type</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">7</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">border-top</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">1</span><span class="token unit">px</span><span class="token plain"> solid </span><span class="token hexcode">#eee</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">8</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">9</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">10</span><span class="token plain"></span><span class="token selector" style="color:#f67468">summary</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">11</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">margin-bottom</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">12</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">font-weight</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">700</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">13</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">14</span><span class="token plain"></span><span class="token selector" style="color:#f67468">summary + *</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">15</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">margin-top</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">1</span><span class="token unit">rem</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">16</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span></div></div></pre><p class="css-b9a69l"><a href="https://codepen.io/lowmess/pen/eQrjBG" class="css-vxtv22">Now we’ve got a relatively attractive accordion component</a>. We could stop now, and we would have a working component that, with a few tweaks, could be dropped onto almost any site and Just Work™️.</p><iframe height="300" scrolling="no" title="Details Accordion (Base Styles)" src="//codepen.io/lowmess/embed/eQrjBG/?height=300&amp;theme-id=22727&amp;default-tab=result" frameBorder="no" allowtransparency="true" allowfullscreen="" style="width:100%">See the Pen <a href="https://codepen.io/lowmess/pen/eQrjBG/" class="css-vxtv22">Details Accordion (Base Styles)</a> by Alec Lomas (<a href="https://codepen.io/lowmess" class="css-vxtv22">@lowmess</a>) on <a href="https://codepen.io" class="css-vxtv22">CodePen</a>.</iframe><h2 id="enchanting-progressive-enhancement" class="css-17bh652"><a href="#enchanting-progressive-enhancement" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Enchanting Progressive Enhancement</h2><p class="css-b9a69l">We don’t want to be outdone by those UI frameworks of yore, though. So we’ll need to do a little more work to animate the content in and out. The base markup does have to be changed to be a little less clean, and we’ll need some new CSS.</p><pre><div class="prism-code language-html css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token tag punctuation" style="color:#a89e90">&lt;</span><span class="token tag" style="color:#f2930d">details</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  </span><span class="token tag punctuation" style="color:#a89e90">&lt;</span><span class="token tag" style="color:#f2930d">summary</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain">An updated details accordion</span><span class="token tag punctuation" style="color:#a89e90">&lt;/</span><span class="token tag" style="color:#f2930d">summary</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain">  </span><span class="token tag punctuation" style="color:#a89e90">&lt;</span><span class="token tag" style="color:#f2930d">div</span><span class="token tag" style="color:#f2930d"> </span><span class="token tag attr-name" style="color:#f67468">class</span><span class="token tag attr-value punctuation" style="color:#a89e90">=</span><span class="token tag attr-value punctuation" style="color:#a89e90">&quot;</span><span class="token tag attr-value" style="color:#adfada">content</span><span class="token tag attr-value punctuation" style="color:#a89e90">&quot;</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain">    </span><span class="token tag punctuation" style="color:#a89e90">&lt;</span><span class="token tag" style="color:#f2930d">p</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain">I&#x27;m some content!</span><span class="token tag punctuation" style="color:#a89e90">&lt;/</span><span class="token tag" style="color:#f2930d">p</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">6</span><span class="token plain">  </span><span class="token tag punctuation" style="color:#a89e90">&lt;/</span><span class="token tag" style="color:#f2930d">div</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">7</span><span class="token plain"></span><span class="token tag punctuation" style="color:#a89e90">&lt;/</span><span class="token tag" style="color:#f2930d">details</span><span class="token tag punctuation" style="color:#a89e90">&gt;</span></div></div></pre><pre><div class="prism-code language-css css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token selector class" style="color:#f67468">.content</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">overflow-y</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> hidden</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">transition</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> all </span><span class="token number" style="color:#bb68f6">0.4</span><span class="token unit">s</span><span class="token plain"> ease</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">6</span><span class="token plain"></span><span class="token selector class" style="color:#f67468">.content.is-closed</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">7</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">max-height</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">8</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">margin-top</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">9</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">margin-bottom</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">10</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">padding-top</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">11</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">padding-bottom</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">12</span><span class="token plain">  </span><span class="token property" style="color:#f2930d">opacity</span><span class="token punctuation" style="color:#a89e90">:</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">13</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span></div></div></pre><p class="css-b9a69l">You may have noticed that we didn’t apply the <code class="css-1f2zuos">is-closed</code> class to the content in the markup. Since we’re using JS to trigger that class, and it hides the content, we only want to apply the class if JS is allowed to run on the page.</p><pre><div class="prism-code language-js css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token keyword" style="color:#f2930d">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">(</span><span class="token keyword" style="color:#f2930d">const</span><span class="token plain"> content </span><span class="token keyword" style="color:#f2930d">of</span><span class="token plain"> </span><span class="token dom variable" style="color:#85b4f8">document</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">querySelectorAll</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;details .content&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  content</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">classList</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">add</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;is-closed&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span></div></div></pre><p class="css-b9a69l">There’s one last piece we need to set into place before we can trigger the animation. When the element is closed, it has an applied <code class="css-1f2zuos">max-height</code> of <code class="css-1f2zuos">0</code>. Since the <code class="css-1f2zuos">auto</code> declaration is not animatable, we’ll need to apply a defined <code class="css-1f2zuos">max-height</code> to the content when it’s open. For the smoothest possible animation, that <code class="css-1f2zuos">max-height</code> should be the same size as the content height. We can write a simple function to calculate this height and store it as an attribute on the content element.</p><pre><div class="prism-code language-js css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token keyword" style="color:#f2930d">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#85b4f8">getContentHeight</span><span class="token plain"> </span><span class="token operator" style="color:#f2f99d">=</span><span class="token plain"> </span><span class="token parameter">node</span><span class="token plain"> </span><span class="token arrow operator" style="color:#f2f99d">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  </span><span class="token comment" style="color:#938776">// Force node to display properly</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain">  node</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">classList</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">remove</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;is-closed&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain">  </span><span class="token comment" style="color:#938776">// Calculate height and store it</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain">  node</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">setAttribute</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;data-height&#x27;</span><span class="token punctuation" style="color:#a89e90">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#f67468">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#a89e90">${</span><span class="token template-string interpolation">node</span><span class="token template-string interpolation punctuation" style="color:#a89e90">.</span><span class="token template-string interpolation function" style="color:#85b4f8">getBoundingClientRect</span><span class="token template-string interpolation punctuation" style="color:#a89e90">(</span><span class="token template-string interpolation punctuation" style="color:#a89e90">)</span><span class="token template-string interpolation punctuation" style="color:#a89e90">.</span><span class="token template-string interpolation">height</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#a89e90">}</span><span class="token template-string string" style="color:#f67468">px</span><span class="token template-string template-punctuation string" style="color:#f67468">`</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">6</span><span class="token plain">  </span><span class="token comment" style="color:#938776">// Reset node to initial state</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">7</span><span class="token plain">  node</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">classList</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">add</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;is-closed&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">8</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span></div></div></pre><p class="css-b9a69l">Now that we’ve accounted for that wrinkle, we can handle interaction on the element. In a bit of premature optimization, we’ll <a href="https://javascript.info/event-delegation" class="css-vxtv22">delegate the event</a> to the document.</p><pre><div class="prism-code language-js css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token dom variable" style="color:#85b4f8">document</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">addEventListener</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;click&#x27;</span><span class="token punctuation" style="color:#a89e90">,</span><span class="token plain"> </span><span class="token parameter">event</span><span class="token plain"> </span><span class="token arrow operator" style="color:#f2f99d">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain">  </span><span class="token keyword" style="color:#f2930d">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">(</span><span class="token operator" style="color:#f2f99d">!</span><span class="token plain">event</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">closest</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;summary&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain">    </span><span class="token keyword" style="color:#f2930d">return</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain">  </span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">6</span><span class="token plain">  event</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">preventDefault</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">7</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token punctuation" style="color:#a89e90">)</span></div></div></pre><p class="css-b9a69l">All we’ve told the browser at this point is “if the user has clicked a <code class="css-1f2zuos">&lt;summary&gt;</code> element, don’t do anything”. The default behavior associated with clicking a <code class="css-1f2zuos">&lt;summary&gt;</code> element is to set/remove the <code class="css-1f2zuos">open</code> attribute on its parent <code class="css-1f2zuos">&lt;details&gt;</code> element (the browser then knows to hide/show the content inside of <code class="css-1f2zuos">&lt;details&gt;</code> based on this attribute). The browser won’t wait for the content to animate out before hiding it, so we need to do that manually inside our handler. The code to do this is fairly straightforward, and boils down to toggling attributes and classes in a specific order at a specified time.</p><pre><div class="prism-code language-js css-6urk41" style="background-color:#39342d;color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">1</span><span class="token comment" style="color:#938776">// Inside of our event handler</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">2</span><span class="token plain"></span><span class="token keyword" style="color:#f2930d">const</span><span class="token plain"> accordion </span><span class="token operator" style="color:#f2f99d">=</span><span class="token plain"> event</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">closest</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;details&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">3</span><span class="token plain"></span><span class="token keyword" style="color:#f2930d">const</span><span class="token plain"> content </span><span class="token operator" style="color:#f2f99d">=</span><span class="token plain"> accordion</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">querySelector</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;.content&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">5</span><span class="token plain"></span><span class="token comment" style="color:#938776">// Handle closing</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">6</span><span class="token plain"></span><span class="token keyword" style="color:#f2930d">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">(</span><span class="token plain">accordion</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">hasAttribute</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;open&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">7</span><span class="token plain">  </span><span class="token comment" style="color:#938776">// Animate content out</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">8</span><span class="token plain">  content</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">removeProperty</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;max-height&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">9</span><span class="token plain">  content</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">classList</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">add</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;is-closed&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">10</span><span class="token plain">  </span><span class="token comment" style="color:#938776">// Wait for animation to finish, then remove the `open` attribute</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">11</span><span class="token plain">  </span><span class="token dom variable" style="color:#85b4f8">window</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">setTimeout</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#f2f99d">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">12</span><span class="token plain">    accordion</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">removeAttribute</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;open&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">13</span><span class="token plain">  </span><span class="token punctuation" style="color:#a89e90">}</span><span class="token punctuation" style="color:#a89e90">,</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">400</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">14</span><span class="token plain">  </span><span class="token comment" style="color:#938776">// Exit handler</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">15</span><span class="token plain">  </span><span class="token keyword" style="color:#f2930d">return</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">16</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">17</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">18</span><span class="token plain"></span><span class="token comment" style="color:#938776">// Handle opening</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">19</span><span class="token plain"></span><span class="token comment" style="color:#938776">// Set the `open` attribute so the content will display</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">20</span><span class="token plain">accordion</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">setAttribute</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;open&#x27;</span><span class="token punctuation" style="color:#a89e90">,</span><span class="token plain"> </span><span class="token string" style="color:#f67468">&#x27;&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">21</span><span class="token plain"></span><span class="token comment" style="color:#938776">// If our content does not have a calculated height, calculate it</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">22</span><span class="token plain"></span><span class="token keyword" style="color:#f2930d">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">(</span><span class="token operator" style="color:#f2f99d">!</span><span class="token plain">content</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">hasAttribute</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;data-height&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">23</span><span class="token plain">  </span><span class="token function" style="color:#85b4f8">getContentHeight</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">24</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">25</span><span class="token plain"></span><span class="token comment" style="color:#938776">// Wait a beat for the height to calculate, then animate content in</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">26</span><span class="token plain"></span><span class="token dom variable" style="color:#85b4f8">window</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">setTimeout</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#f2f99d">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#a89e90">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">27</span><span class="token plain">  content</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">maxHeight</span><span class="token plain"> </span><span class="token operator" style="color:#f2f99d">=</span><span class="token plain"> content</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">getAttribute</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;data-height&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">28</span><span class="token plain">  content</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token property-access">classList</span><span class="token punctuation" style="color:#a89e90">.</span><span class="token method function property-access" style="color:#85b4f8">remove</span><span class="token punctuation" style="color:#a89e90">(</span><span class="token string" style="color:#f67468">&#x27;is-closed&#x27;</span><span class="token punctuation" style="color:#a89e90">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f9f9f8;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;tab-size:2;hyphens:none;overflow:auto"><span class="css-ra9tsr">29</span><span class="token plain"></span><span class="token punctuation" style="color:#a89e90">}</span><span class="token punctuation" style="color:#a89e90">,</span><span class="token plain"> </span><span class="token number" style="color:#bb68f6">0</span><span class="token punctuation" style="color:#a89e90">)</span></div></div></pre><p class="css-b9a69l"><a href="https://codepen.io/lowmess/pen/yQjRXy" class="css-vxtv22">Putting it all together</a> gives us a fully functional, animated accordion component. And because we started with an HTML element that gives us our core functionality by default, a user doesn’t need to have JavaScript running to access the hidden content.</p><iframe height="300" scrolling="no" title="&lt;details&gt; Accordion (Final Form)" src="//codepen.io/lowmess/embed/yQjRXy/?height=300&amp;theme-id=22727&amp;default-tab=result" frameBorder="no" allowtransparency="true" allowfullscreen="" style="width:100%">See the Pen <a href="https://codepen.io/lowmess/pen/yQjRXy/" class="css-vxtv22">&lt;details&amp;rt; Accordion (Final Form)</a> by Alec Lomas (<a href="https://codepen.io/lowmess" class="css-vxtv22">@lowmess</a>) on <a href="https://codepen.io" class="css-vxtv22">CodePen</a>.</iframe><h2 id="extra-credit" class="css-17bh652"><a href="#extra-credit" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Extra Credit</h2><p class="css-b9a69l">Although the accordion we’ve created is great, we’ve only covered the baseline functionality. There are a few ways we can change or improve the functionality further, including but not limited to:</p><style data-emotion-css="1ooase3">.css-1ooase3{box-sizing:border-box;margin:0;min-width:0;font-size:2.25rem;font-family:heading;font-weight:heading;line-height:heading;font-size:1.25rem;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Oxygen,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.25;font-weight:700;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:1rem;padding-top:1rem;font-size:1rem;font-weight:600;-webkit-letter-spacing:normal;-moz-letter-spacing:normal;-ms-letter-spacing:normal;letter-spacing:normal;}@media screen and (min-width:48em){.css-1ooase3{font-size:1.5rem;}}.css-1ooase3 .heading-link{visibility:hidden;position:absolute;right:100%;padding-left:0.5rem;padding-right:0.5rem;}.css-1ooase3 .heading-link:hover{color:#f2930d;}.css-1ooase3:hover .heading-link{visibility:visible;}@media screen and (min-width:48em){.css-1ooase3{font-size:1.25rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;}}</style><h3 id="improve-accessibility" class="css-1ooase3"><a href="#improve-accessibility" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Improve Accessibility</h3><p class="css-b9a69l">Because the <code class="css-1f2zuos">&lt;details&gt;</code> element is baked-in to the platform, it should be accessible by default. However, this only applies to browsers that actually support the element. If you have users from browsers that don’t support the element, considerations for accessibility should be taken (adding <code class="css-1f2zuos">tabindex</code> and <code class="css-1f2zuos">aria-</code> attributes, for example).</p><h3 id="handle-window-resizing" class="css-1ooase3"><a href="#handle-window-resizing" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Handle Window Resizing</h3><p class="css-b9a69l">The vertical expansion animation we’re using to transition accordion content in and out of view is smooth and natural, but there is one issue: it isn’t responsive. Because we only calculate the height of the element once, if the element width changes to the degree that the content flows to a new line, the animation will break. An ideal solution would account for this, and there are a variety of ways we could do so.</p><h3 id="increase-interaction-target-size" class="css-1ooase3"><a href="#increase-interaction-target-size" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Increase Interaction Target Size</h3><p class="css-b9a69l">We set container padding on the <code class="css-1f2zuos">&lt;details&gt;</code> element to give the contents of the accordion room to breath. However, this means to open the accordion you have to click or tap on the <code class="css-1f2zuos">&lt;summary&gt;</code> content. Setting the padding on the <code class="css-1f2zuos">&lt;summary&gt;</code> and content container independently should make the accordion a little easier to use.</p><h3 id="animate-the-twistie" class="css-1ooase3"><a href="#animate-the-twistie" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Animate the Twistie</h3><p class="css-b9a69l">Animating the twistie to compliment the content animation would bring another level of polish to our accordion. Extra extra credit: make the animation happen on interaction (instead of relying on the <code class="css-1f2zuos">[open]</code> attribute).</p><h3 id="force-content-to-show-in-non-screen-environments" class="css-1ooase3"><a href="#force-content-to-show-in-non-screen-environments" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Force Content to Show In Non-Screen Environments</h3><p class="css-b9a69l">Accordions can bring a lot to the table in screen-based environments, however they can also make content inaccessible in non-screen environments (such as when printing or using a screenreader). The content should be accessible in all environments.</p><h3 id="only-open-one-item-at-a-time" class="css-1ooase3"><a href="#only-open-one-item-at-a-time" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Only Open One Item At a Time</h3><p class="css-b9a69l">Just kidding. If <a href="https://www.nngroup.com/articles/accordions-complex-content/" class="css-vxtv22">you need an accordion at all</a>, you probably <a href="https://www.smashingmagazine.com/2017/06/designing-perfect-accordion-checklist/#designing-interaction-for-the-accordion" class="css-vxtv22">should not do this</a>. As it is an action not directly requested by the user, it can cause frustration.</p><h3 id="package-the-accordion-into-a-reusable-component" class="css-1ooase3"><a href="#package-the-accordion-into-a-reusable-component" class="heading-link css-1wf85w4"><svg viewBox="0 0 32 32" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.04 16A4.966 4.966 0 0 1 8 11.04h6.4V8H8c-4.415 0-8 3.584-8 8s3.585 8 8 8h6.4v-3.04H8A4.966 4.966 0 0 1 3.04 16zm6.56 1.6h12.8v-3.2H9.6v3.2zM24 8h-6.4v3.04H24A4.966 4.966 0 0 1 28.96 16 4.966 4.966 0 0 1 24 20.96h-6.4V24H24c4.415 0 8-3.584 8-8s-3.585-8-8-8z"></path></svg></a>Package the Accordion Into a Reusable Component</h3><p class="css-b9a69l">We should probably abstract away all of this markup to ensure consistency and improve DX. Frameworks like React and Vue provide a simple way to do this, but it should also be possible in most templating languages.</p></main></article></main><style data-emotion-css="n1swva">.css-n1swva{box-sizing:border-box;margin:0;min-width:0;font-family:Menlo,Consolas,Roboto Mono,Ubuntu Monospace,Oxygen Mono,Liberation Mono,monospace;margin-top:auto;margin-bottom:1rem;}@media screen and (min-width:48em){.css-n1swva{margin-bottom:1rem;}}@media screen and (min-width:64em){.css-n1swva{margin-bottom:2rem;}}</style><footer class="css-n1swva"><style data-emotion-css="ymqbme">.css-ymqbme{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media screen and (min-width:48em){.css-ymqbme{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media screen and (min-width:64em){.css-ymqbme{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}}</style><div class="css-ymqbme"><style data-emotion-css="clzlpd">.css-clzlpd{box-sizing:border-box;margin:0;min-width:0;display:none;}@media screen and (min-width:48em){.css-clzlpd{display:none;}}@media screen and (min-width:64em){.css-clzlpd{display:block;}}</style><div class="css-clzlpd"><style data-emotion-css="op4fzj">.css-op4fzj{box-sizing:border-box;margin:0;min-width:0;margin-right:0.5rem;}</style><span class="css-op4fzj">From the blog:</span><style data-emotion-css="1w0r8xu">.css-1w0r8xu{box-sizing:border-box;margin:0;min-width:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-1w0r8xu:hover{color:#f2930d;}</style><a class="css-1w0r8xu" href="/blog/no-red-squigglies-for-semicolons/"><style data-emotion-css="1jewwb">.css-1jewwb{box-sizing:border-box;margin:0;min-width:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:0.875rem;font-family:Menlo,Consolas,Roboto Mono,Ubuntu Monospace,Oxygen Mono,Liberation Mono,monospace;font-weight:700;}@media screen and (min-width:48em){.css-1jewwb{font-size:1rem;}}</style><span class="css-1jewwb">No Red Squigglies For Semicolons<!-- --> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 16" width="24" height="16" preserveAspectRatio="xMinYMid"><path d="M8 8.61V7.39h12V4l4 4-4 4V8.61H8z"></path></svg></span></a></div><style data-emotion-css="1h275wr">.css-1h275wr{box-sizing:border-box;margin:0;min-width:0;margin:0;padding:0;list-style-type:none;}</style><ul class="css-1h275wr"><style data-emotion-css="177x7e8">.css-177x7e8{box-sizing:border-box;margin:0;min-width:0;display:inline-block;}.css-177x7e8 + .css-177x7e8{margin-left:1rem;}</style><li class="css-177x7e8"><style data-emotion-css="aizcs3">.css-aizcs3{box-sizing:border-box;margin:0;min-width:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;font-size:0.875rem;}.css-aizcs3:hover{color:#f2930d;}@media screen and (min-width:48em){.css-aizcs3{font-size:1rem;}}</style><a href="https://twitter.com/Nikhil17_namal" class="css-aizcs3">Twitter</a></li><li class="css-177x7e8"><a href="https://github.com/NikhilNamal17" class="css-aizcs3">GitHub</a></li><li class="css-177x7e8"><a href="https://bit.ly/nikhil-namal-resume" class="css-aizcs3">Résumé</a></li></ul></div></footer></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/functional-first-accordions/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-849c33fb70df35abcf41.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-30314d2e7ee1d43f6ff5.js"],"component---src-pages-about-jsx":["/component---src-pages-about-jsx-ee287ff1b3b8667955ec.js"],"component---src-pages-blog-jsx":["/component---src-pages-blog-jsx-0848696ebc2f60fb7b5b.js"],"component---src-pages-colophon-jsx":["/component---src-pages-colophon-jsx-c6e8c9983da31c090dd8.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-8d965c59b51a23aba1f0.js"],"component---src-pages-projects-jsx":["/component---src-pages-projects-jsx-2071d864f5d83df34ca5.js"],"component---src-pages-blog-a-better-album-ranking-algorithm-index-mdx":["/component---src-pages-blog-a-better-album-ranking-algorithm-index-mdx-9ea231377164f5c21ce7.js"],"component---src-pages-blog-a-form-fitted-z-shell-index-mdx":["/component---src-pages-blog-a-form-fitted-z-shell-index-mdx-ba72cbd8610a54a926cc.js"],"component---src-pages-blog-customizing-tachyons-index-mdx":["/component---src-pages-blog-customizing-tachyons-index-mdx-904f4f0d252d61cd06ad.js"],"component---src-pages-blog-fetch-with-timeout-index-mdx":["/component---src-pages-blog-fetch-with-timeout-index-mdx-4e5ff46ac778a918ab23.js"],"component---src-pages-blog-functional-first-accordions-index-mdx":["/component---src-pages-blog-functional-first-accordions-index-mdx-58dec18a6c36d4791634.js"],"component---src-pages-blog-no-red-squigglies-for-semicolons-index-mdx":["/component---src-pages-blog-no-red-squigglies-for-semicolons-index-mdx-1e4abb55d2b18a92bc46.js"],"component---src-pages-blog-on-declarative-styling-index-mdx":["/component---src-pages-blog-on-declarative-styling-index-mdx-02cbcd66d26cacc47de0.js"]};/*]]>*/</script><script src="/component---src-pages-blog-functional-first-accordions-index-mdx-58dec18a6c36d4791634.js" async=""></script><script src="/commons-652c8223faa9c70cdf83.js" async=""></script><script src="/app-849c33fb70df35abcf41.js" async=""></script><script src="/styles-d7bca83241f8e3231f4d.js" async=""></script><script src="/webpack-runtime-7f057ab76526c2332872.js" async=""></script></body></html>